{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://cpp.moj.gov.uk/hearing/json/schema/event/public.events.hearing.defendant-details-updated.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "hearingId": {
      "$ref": "http://justice.gov.uk/domain/core/common/definitions.json#/definitions/uuid"
    },
    "defendant": {
      "$ref": "#/definitions/defendant"
    }
  },
  "required": [
    "defendant",
    "hearingId"
  ],
  "definitions": {
    "defendant": {
      "type": "object",
      "description": "The defendant for an individual prosecution case.  Defendant details are NOT associated to multiple prosecution cases.  HMCTS business does not have authority to merge defendant details or recognise a single view of defendant",
      "properties": {
        "id": {
          "$ref": "http://justice.gov.uk/domain/core/common/definitions.json#/definitions/uuid"
        },
        "masterDefendantId": {
          "description": "Master defendant id",
          "$ref": "http://justice.gov.uk/domain/core/common/definitions.json#/definitions/uuid"
        },
        "prosecutionCaseId": {
          "description": "The prosecution case technical identifier",
          "$ref": "http://justice.gov.uk/domain/core/common/definitions.json#/definitions/uuid"
        },
        "numberOfPreviousConvictionsCited": {
          "description": "The number of previous convictions cited by the case prosecuting authority",
          "$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/positiveInteger"
        },
        "prosecutionAuthorityReference": {
          "description": "The prosecuting authorities reference for the defendant for the given case",
          "type": "string"
        },
        "witnessStatement": {
          "type": "string"
        },
        "witnessStatementWelsh": {
          "type": "string"
        },
        "mitigation": {
          "type": "string"
        },
        "mitigationWelsh": {
          "type": "string"
        },
        "associatedPersons": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "http://justice.gov.uk/core/courts/associatedPerson.json"
          }
        },
        "defenceOrganisation": {
          "description": "The organisation details of the defence representation",
          "$ref": "http://justice.gov.uk/core/courts/organisation.json"
        },
        "personDefendant": {
          "description": "When the defendant is a person the additional person specific details for the defendant",
          "$ref": "http://justice.gov.uk/core/courts/personDefendant.json"
        },
        "legalEntityDefendant": {
          "description": "When the defendant is a legal entity the additional legal entity specific details for the defendant",
          "$ref": "http://justice.gov.uk/core/courts/legalEntityDefendant.json"
        },
        "aliases": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "http://justice.gov.uk/core/courts/defendantAlias.json"
          }
        },
        "pncId": {
          "type": "string"
        },
        "isYouth":{
          "type" : "boolean"
        },
        "associatedDefenceOrganisation": {
          "description": "The associated defence representation details",
          "$ref": "http://justice.gov.uk/core/courts/associatedDefenceOrganisation.json"
        }
      },
      "required": [
        "id",
        "prosecutionCaseId"
      ],
      "additionalProperties": false
    }
  }
}